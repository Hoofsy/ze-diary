# å·¥ä½œæµåç§°ï¼šè‡ªåŠ¨ç»Ÿè®¡ ZE ç™½ç»™æ¬¡æ•°
name: è‡ªåŠ¨ç»Ÿè®¡ç™½ç»™æ¬¡æ•°

# è§¦å‘æ¡ä»¶ï¼šå½“ã€Œç™½ç»™è®°å½•/ã€ä¸‹çš„mdæ–‡ä»¶ä¿®æ”¹æ—¶è¿è¡Œ
on:
  push:
    branches: [ main, master ]
    paths:
      - "ç™½ç»™è®°å½•/*.md"  # ä»“åº“æ ¹ç›®å½•ä¸‹çš„ã€Œç™½ç»™è®°å½•/ã€æ–‡ä»¶å¤¹
      - "README.md"

jobs:
  count_fail_times:
    runs-on: ubuntu-latest
    steps:
      - name: æ‹‰å–ä»“åº“ä»£ç 
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: è¿è¡Œç»Ÿè®¡è„šæœ¬
        run: python count_fail.py

      - name: è‡ªåŠ¨æäº¤æ›´æ–°
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "ğŸ¤– è‡ªåŠ¨æ›´æ–°æ€»ç™½ç»™æ¬¡æ•°"
          file_pattern: "README.md"
          commit_user_name: "GitHub Actions"
          commit_user_email: "actions@github.com"
